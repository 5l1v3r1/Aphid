select = @(selector, source) {
    x = [];
    for (y in source) y |> selector @array_push(x);
    ret x;
};

where = @(predicate, source) {
    x = [];
    for (element in source) if (predicate(element)) array_push(x, element);
    ret x;
};

first = @(predicate, source) {
    for (element in source) if (predicate(element)) ret element;
    ret null;
};

iter = @(action, source) {
    for (x in source) action(x);
};