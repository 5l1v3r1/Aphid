#'Std';
#'AopTest';
unsafe navigation group;

_p = macro(@{ _pc(foo.bar.x) });
_ps = macro(@{ _pc(foo?.bar?.x) });
_pc = macro(@(m){ m |> print });
_n = macro(@(m){ @{ m = null } });

prologue;
foo = { bar: { x: 10 } };

    @{ _p() };
    epilogue;
    _ps();
    @{  };
    _n(foo);
    _n(foo.bar);

fault;
    epilogue;
    _p();
    _n(foo);
    _n(foo.bar);
